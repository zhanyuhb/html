<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‹±è¯­å•è¯å¤§é—¯å…³</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive;
            background: linear-gradient(135deg, #81ecec, #a29bfe);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-image: url('https://i.imgur.com/3YjLwQz.png');
            background-size: cover;
        }

        .header {
            color: #2c3e50;
            font-size: 36px;
            margin: 20px 0;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.3);
            position: relative;
            animation: bounce 2s infinite;
        }

        .select-box {
            margin: 10px;
            padding: 12px 20px;
            font-size: 18px;
            border-radius: 25px;
            border: none;
            background: #dfe6e9;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .start-btn {
            padding: 15px 30px;
            font-size: 20px;
            background: #2ecc71;
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.3);
            transition: transform 0.2s;
        }

        .start-btn:hover {
            transform: scale(1.05);
        }

        .prompt {
            color: #666;
            font-size: 14px;
            margin: 10px 0 20px;
            line-height: 1.4;
            padding: 8px 15px;
            background: rgba(255,255,255,0.8);
            border-radius: 15px;
            max-width: 400px;
        }

        .game-area {
            margin-top: 30px;
            background: rgba(255,255,255,0.9);
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .word-item {
            font-size: 28px;
            margin-bottom: 20px;
            color: #34495e;
            font-weight: bold;
        }

        .ball {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: none;
            display: inline-block;
            margin: 15px;
            line-height: 100px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            color: white;
            cursor: pointer;
            transition: transform 0.2s;
            position: relative;
        }

        .ball:hover {
            transform: scale(1.05);
        }

        .score-board {
            margin-top: 20px;
            font-size: 24px;
            color: #2ecc71;
            font-weight: bold;
        }

        .ball:nth-child(1) { background: #e84393; }
        .ball:nth-child(2) { background: #3867d6; }
        .ball:nth-child(3) { background: #2ecc71; }
        .ball:nth-child(4) { background: #f1c40f; }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        @media (max-width: 600px) {
            body { padding: 10px; }
            .header { font-size: 28px; }
            .ball { width: 80px; height: 80px; line-height: 80px; }
        }
    </style>
</head>
<body>
    <div class="header">éƒ¨ç¼–ç‰ˆå°å­¦ä¸‰å¹´çº§è‹±è¯­ä¸‹å†Œå•è¯å¤§é—¯å…³</div>
    <select class="select-box" id="unitSelect">
        <option value="unit1">Unit 1</option>
        <option value="unit2">Unit 2</option>
        <option value="unit3">Unit 3</option>
        <option value="unit4">Unit 4</option>
        <option value="unit5">Unit 5</option>
        <option value="unit6">Unit 6</option>
    </select>
    <button class="start-btn" onclick="startGame()">ğŸš€ å¼€å§‹å†’é™©</button>
    <div class="prompt">æç¤ºï¼šä¸€å…±åç»„ï¼Œæ¯ç»„ç­”é¢˜æ—¶é—´5ç§’é’Ÿï¼Œä¸ä½œç­”è‡ªåŠ¨è¿›å…¥ä¸‹ä¸€ç»„ã€‚</div>
    
    <div class="game-area" id="gameArea" style="display: none;">
        <div class="word-item" id="chineseWord"></div>
        <div id="ballContainer"></div>
        <div class="score-board" id="scoreDisplay">å¾—åˆ†ï¼š0</div>
    </div>

    <script>
        const wordData = {
            unit1: [
                { cn: "å–œæ¬¢", en: "like" }, { cn: "è‹¹æœ", en: "apple" }, 
                { cn: "æ©™å­", en: "orange" }, { cn: "ç±³é¥­", en: "rice" },
                { cn: "ä½ ï¼›ä½ ä»¬", en: "you" }, { cn: "è”¬èœ", en: "vegetable" },
                { cn: "è‚‰", en: "meat" }, { cn: "é£Ÿç‰©", en: "food" },
                { cn: "æ°´æœ", en: "fruit" }, { cn: "é¦™è•‰", en: "banana" },
                { cn: "è‘¡è„", en: "grape" }, { cn: "åä¸€", en: "eleven" },
                { cn: "åäºŒ", en: "twelve" }, { cn: "é¢åŒ…", en: "bread" },
                { cn: "æˆ‘çš„", en: "my" }, { cn: "ç‰¹åˆ«å–œçˆ±çš„ï¼›ç‰¹åˆ«å–œçˆ±çš„äº‹ç‰©", en: "favourite" },
                { cn: "é¸¡è‚‰", en: "chicken" }, { cn: "é±¼è‚‰ï¼›é±¼", en: "fish" }
            ],
            unit2: [
                { cn: "æ—©é¤", en: "breakfast" }, { cn: "é¸¡è›‹", en: "egg" }, 
                { cn: "æœæ±", en: "juice" }, { cn: "ç‰›å¥¶", en: "milk" },
                { cn: "åˆé¤", en: "lunch" }, { cn: "é¥¥é¥¿çš„", en: "hungry" },
                { cn: "é¢æ¡", en: "noodle" }, { cn: "æ°´", en: "water" },
                { cn: "åƒ", en: "eat" }, { cn: "å–", en: "drink" },
                { cn: "æ±¤", en: "soup" }, { cn: "æ­£é¤ï¼›æ™šé¤", en: "dinner" },
                { cn: "å¥½çš„", en: "good" }
            ],
            unit3: [
                { cn: "æ—©æ™¨ï¼›ä¸Šåˆ", en: "morning" }, { cn: "èµ·åºŠ", en: "get up" }, 
                { cn: "æ•´ç†åºŠé“º", en: "make my bed" }, { cn: "æ´—", en: "wash" },
                { cn: "æ™šä¸Šï¼›å‚æ™š", en: "evening" }, { cn: "åšï¼›å¹²", en: "do" },
                { cn: "ä¹¦åŒ…", en: "schoolbag" }, { cn: "æ”¾ï¼›ç½®", en: "put" },
                { cn: "å¹²å‡€çš„ï¼›æ‰“æ‰«", en: "clean" }, { cn: "æ•´æ´çš„ï¼›æ•´ç†", en: "tidy" },
                { cn: "æˆ¿é—´", en: "room" }, { cn: "çŸ­è¢œ", en: "sock" }
            ],
            unit4: [
                { cn: "å†œåœº", en: "farm" }, { cn: "æ²³ï¼›æ±Ÿ", en: "river" }, 
                { cn: "çœ‹è§", en: "see" }, { cn: "é©¬", en: "horse" },
                { cn: "å¥¶ç‰›", en: "cow" }, { cn: "çŒª", en: "pig" },
                { cn: "å…”", en: "rabbit" }, { cn: "ç»µç¾Šï¼›ç¾Š", en: "sheep" },
                { cn: "é¸­", en: "duck" }, { cn: "é¸Ÿ", en: "bird" },
                { cn: "æ ‘ï¼›æ ‘æœ¨", en: "tree" }, { cn: "åä¸‰", en: "thirteen" },
                { cn: "åå››", en: "fourteen" }, { cn: "åäº”", en: "fifteen" },
                { cn: "åå…­", en: "sixteen" }, { cn: "åä¸ƒ", en: "seventeen" },
                { cn: "åå…«", en: "eighteen" }, { cn: "åä¹", en: "nineteen" },
                { cn: "äºŒå", en: "twenty" }, { cn: "åŠ¨ç‰©", en: "animal" },
                { cn: "è®¸å¤š", en: "many" }
            ],
            unit5: [
                { cn: "åŠ¨ç‰©å›­", en: "zoo" }, { cn: "ç†ŠçŒ«", en: "panda" }, 
                { cn: "å®ƒ", en: "it" }, { cn: "ç™½è‰²ï¼ˆçš„ï¼‰", en: "white" },
                { cn: "è±¡", en: "elephant" }, { cn: "è€è™", en: "tiger" },
                { cn: "ç†Š", en: "bear" }, { cn: "çŒ´å­", en: "monkey" },
                { cn: "æ¤ç‰©", en: "plant" }, { cn: "å¯çˆ±çš„", en: "cute" },
                { cn: "å®ƒçš„", en: "its" }, { cn: "èƒ½ï¼›ä¼š", en: "can" },
                { cn: "æ¸¸æ³³", en: "swim" }
            ],
            unit6: [
                { cn: "å¤©", en: "day" }, { cn: "å‘¨ï¼›æ˜ŸæœŸ", en: "week" }, 
                { cn: "æ˜ŸæœŸæ—¥", en: "Sunday" }, { cn: "æ˜ŸæœŸä¸€", en: "Monday" },
                { cn: "æ˜ŸæœŸäºŒ", en: "Tuesday" }, { cn: "æ˜ŸæœŸä¸‰", en: "Wednesday" },
                { cn: "æ˜ŸæœŸå››", en: "Thursday" }, { cn: "æ˜ŸæœŸäº”", en: "Friday" },
                { cn: "æ˜ŸæœŸå…­", en: "Saturday" }, { cn: "æ—¶é—´", en: "time" },
                { cn: "ä¸‰å", en: "thirty" }, { cn: "å››å", en: "forty" },
                { cn: "çƒ", en: "ball" }, { cn: "ç‹—", en: "dog" },
                { cn: "åœ¨", en: "at" }, { cn: "ææ—©çš„", en: "early" }
            ]
        };

        let currentUnitWords, score = 0, currentIndex = 0;
        let currentTimer;
        let wrongWords = [];

        function startGame() {
            const unit = document.getElementById('unitSelect').value;
            currentUnitWords = [...wordData[unit]];
            score = 0;
            currentIndex = 0;
            wrongWords = [];
            document.getElementById('gameArea').style.display = 'block';
            showNextWord();
        }

        function showNextWord() {
            if (currentIndex >= 10 || currentUnitWords.length === 0) {
                endGame();
                return;
            }

            clearTimeout(currentTimer);

            const wordItem = currentUnitWords.splice(Math.floor(Math.random() * currentUnitWords.length), 1)[0];
            const chineseWordElement = document.getElementById('chineseWord');
            const ballContainer = document.getElementById('ballContainer');

            chineseWordElement.textContent = wordItem.cn;
            ballContainer.innerHTML = '';

            const correctWord = wordItem.en;
            const words = [correctWord];
            
            let loopCount = 0;
            while (words.length < 4 && loopCount < 10) {
                const randomWord = currentUnitWords[Math.floor(Math.random() * currentUnitWords.length)]?.en;
                if (randomWord && !words.includes(randomWord)) {
                    words.push(randomWord);
                    loopCount = 0;
                } else {
                    loopCount++;
                }
            }

            const fragment = document.createDocumentFragment();
            words.sort(() => 0.5 - Math.random()).forEach((word, index) => {
                const ball = document.createElement('div');
                ball.className = 'ball';
                ball.textContent = word;
                ball.style.backgroundColor = `hsl(${index * 90}, 70%, 60%)`;
                ball.addEventListener('click', () => checkAnswer(word, correctWord));
                fragment.appendChild(ball);
            });
            ballContainer.appendChild(fragment);

            currentIndex++;
            currentTimer = setTimeout(() => checkAnswer(null, correctWord), 5000);
        }

        function checkAnswer(selected, correct) {
            clearTimeout(currentTimer);
            const balls = document.querySelectorAll('.ball');

            if (selected === correct) {
                score++;
                document.getElementById('scoreDisplay').textContent = `å¾—åˆ†ï¼š${score}`;
                balls.forEach(ball => {
                    if (ball.textContent === correct) {
                        ball.style.transform = 'scale(1.2)';
                        ball.style.backgroundColor = '#2ecc71';
                    }
                });
            } else {
                balls.forEach(ball => {
                    ball.style.backgroundColor = '#e74c3c';
                    ball.style.transform = 'scale(0.9)';
                });
                wrongWords.push(correct);
            }

            requestAnimationFrame(() => {
                setTimeout(() => {
                    showNextWord();
                    balls.forEach(ball => {
                        ball.style.backgroundColor = '';
                        ball.style.transform = '';
                    });
                }, 1000);
            });
        }

        function endGame() {
            const result = `é—¯å…³ç»“æŸï¼æœ€ç»ˆå¾—åˆ†ï¼š${score}/10`;
            const wrongList = wrongWords.length > 0 
                ? `\néœ€è¦å¤ä¹ çš„å•è¯ï¼š${wrongWords.join(', ')}` 
                : '\næ­å–œä½ ï¼Œå…¨éƒ¨ç­”å¯¹å•¦ï¼';
            
            const dialog = document.createElement('div');
            dialog.style.position = 'fixed';
            dialog.style.top = '50%';
            dialog.style.left = '50%';
            dialog.style.transform = 'translate(-50%, -50%)';
            dialog.style.backgroundColor = 'white';
            dialog.style.padding = '20px';
            dialog.style.borderRadius = '10px';
            dialog.style.boxShadow = '0 0 20px rgba(0,0,0,0.3)';
            dialog.innerHTML = `<h3>${result}</h3><p>${wrongList}</p>`;
            
            const closeBtn = document.createElement('button');
            closeBtn.textContent = 'å…³é—­';
            closeBtn.style.padding = '10px 20px';
            closeBtn.style.backgroundColor = '#2ecc71';
            closeBtn.style.color = 'white';
            closeBtn.style.border = 'none';
            closeBtn.style.borderRadius = '5px';
            closeBtn.onclick = () => {
                dialog.remove();
                document.getElementById('gameArea').style.display = 'none';
            };
            
            dialog.appendChild(closeBtn);
            document.body.appendChild(dialog);
        }

        window.addEventListener('error', (event) => {
            console.error('æ¸¸æˆé”™è¯¯:', event.error);
            alert('æ¸¸æˆå‡ºç°å¼‚å¸¸ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•');
        });
    </script>
</body>
</html>